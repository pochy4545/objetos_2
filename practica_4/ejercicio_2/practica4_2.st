Object subclass: #Broker	instanceVariableNames: 'stations'	classVariableNames: ''	poolDictionaries: ''	category: 'practica4_2'!!Broker commentStamp: 'Anonymous 5/10/2018 19:36' prior: 0!4.2!!Broker methodsFor: 'initialize' stamp: 'ArturoZambrano 4/24/2016 14:33'!initialize stations:=Dictionary new.! !!Broker methodsFor: 'manage' stamp: 'Anonymous 5/10/2018 19:40'!addStation:unaEstacion stations at: unaEstacion  name put: unaEstacion! !!Broker methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 4/24/2016 14:43'!send: aSymbol to: anObjectReference ^(stations at: anObjectReference ) perform: aSymbol ! !Object subclass: #Estacion	instanceVariableNames: 'name'	classVariableNames: ''	poolDictionaries: ''	category: 'practica4_2'!!Estacion commentStamp: 'Anonymous 5/10/2018 19:36' prior: 0!4.2!!Estacion methodsFor: 'accessing' stamp: 'Anonymous 5/10/2018 19:53'!name ^name! !!Estacion methodsFor: 'accessing' stamp: 'Anonymous 5/10/2018 19:53'!name: unNombre  name:=unNombre.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Estacion class	instanceVariableNames: ''!!Estacion class methodsFor: 'instance creation' stamp: 'Anonymous 5/10/2018 18:55'!newEstacionCon: aName		self new name: aName.! !Object subclass: #SistemaEstaciones	instanceVariableNames: 'estaciones broker'	classVariableNames: ''	poolDictionaries: ''	category: 'practica4_2'!!SistemaEstaciones commentStamp: 'Anonymous 5/10/2018 19:37' prior: 0!4.2!!SistemaEstaciones methodsFor: 'accessing' stamp: 'Anonymous 4/21/2018 14:58'!estaciones	^estaciones	! !!SistemaEstaciones methodsFor: 'accessing' stamp: 'Anonymous 5/10/2018 20:02'!temperaturaPromedio |tamaño| tamaño:=self estaciones size.	^ (self estaciones inject: 0 into:[:a :each | a + self brocker send: #temperature to:(each name)])/tamaño.	! !!SistemaEstaciones methodsFor: 'accessing' stamp: 'Anonymous 5/10/2018 20:09'!maximoUv	|last|	last:=((self estaciones asSortedCollection sortBlock:[:unaEstaciones :otraEstacion| (self brocker send: #uvRadiation to:(unaEstaciones  name))< (self brocker send: #uvRadiation to:(otraEstacion name)) ] )last).	^(self brocker send: #uvRadiation to: last name).! !!SistemaEstaciones methodsFor: 'accessing' stamp: 'initialize 5/6/2018 21:17'!estaciones: unasEstaciones  self estaciones addAll: unasEstaciones .! !!SistemaEstaciones methodsFor: 'as yet unclassified' stamp: 'Anonymous 5/10/2018 18:25'!brocker: unBrocker 	broker:= broker! !!SistemaEstaciones methodsFor: 'as yet unclassified' stamp: 'Anonymous 5/10/2018 18:24'!brocker  	^broker.! !!SistemaEstaciones methodsFor: 'as yet unclassified' stamp: 'Anonymous 4/24/2018 19:18'!agregarEstacion: unProxy	self estaciones add:unProxy	! !!SistemaEstaciones methodsFor: 'initialization' stamp: 'Anonymous 5/10/2018 18:25'!initialize	estaciones:=OrderedCollection new.	broker:= Broker new.	! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!SistemaEstaciones class	instanceVariableNames: ''!!SistemaEstaciones class methodsFor: 'accessing' stamp: 'initialize 5/6/2018 21:16'!newEstaciones: unasEstaciones ^(self new estaciones: unasEstaciones) yourself. ! !Object subclass: #WeatherStation	instanceVariableNames: 'random name'	classVariableNames: ''	poolDictionaries: ''	category: 'practica4_2'!!WeatherStation commentStamp: 'Anonymous 5/10/2018 19:37' prior: 0!4.2!!WeatherStation methodsFor: 'sensing' stamp: 'ArturoZambrano 4/24/2016 14:30'!temperature ^ random nextInt:50! !!WeatherStation methodsFor: 'sensing' stamp: 'ArturoZambrano 4/24/2016 14:30'!uvRadiation ^ random nextInt:40 ! !!WeatherStation methodsFor: 'sensing' stamp: 'ArturoZambrano 4/24/2016 14:47'!humidity thisContext sender receiver class=Broker ifFalse:[self error: 'Only a Broker can talk to a Station' ]. ^ random nextInt:100! !!WeatherStation methodsFor: 'accessing' stamp: 'ArturoZambrano 4/24/2016 14:34'!name	^ name! !!WeatherStation methodsFor: 'accessing' stamp: 'ArturoZambrano 4/24/2016 14:34'!name: anObject	name := anObject! !!WeatherStation methodsFor: 'initialization-release' stamp: 'ArturoZambrano 4/24/2016 14:30'!initialize  random:= Random new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!WeatherStation class	instanceVariableNames: ''!!WeatherStation class methodsFor: 'as yet unclassified' stamp: 'ArturoZambrano 4/24/2016 14:42'!named: aString ^self new name:aString; yourself.! !